@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<ul class="navbar-nav">
   @if (SignInManager.IsSignedIn(User))
    {
        <li class="nav-item">
            <a class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage">
                <img src="~/uploads/images/users/@UserManager?.FindByNameAsync(User.Identity.Name)?.Result.ImagePath" alt="" onerror="this.onerror = null;this.src = '@Url.Content("~/uploads/images/users/defaultuser.png")'" asp-append-version="true"
                    class="rounded-circle"
                    height="55"
                    width="55"
                    style="
                        object-fit: cover;
                        box-shadow: 0px 0px 5px #888;
                        padding: 2px;" />
                @User.Identity.Name!
            </a>
        </li>
        <li class="nav-item">
            <form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                <button type="submit" class="nav-link btn btn-link text-dark" style="padding-top:20px">Iziet</button>
            </form>
        </li>
    }
    else
    {
        <li class="nav-item">
            <a class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Register">Reģistrēties</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Login">Ienākt</a>
        </li>
    }
</ul>